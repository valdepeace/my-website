<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="atom.xsl"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://valdepeace.com/blog</id>
    <title>Andrés Carmona Gil Blog</title>
    <updated>2025-11-30T12:59:03.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://valdepeace.com/blog"/>
    <subtitle>Andrés Carmona Gil Blog</subtitle>
    <icon>https://valdepeace.com/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Author]]></title>
        <id>https://valdepeace.com/blog/authors/all-sebastien-lorber-articles</id>
        <link href="https://valdepeace.com/blog/authors/all-sebastien-lorber-articles"/>
        <updated>2025-11-30T12:59:03.000Z</updated>
        <summary type="html"><![CDATA[This is a placeholder author page for all-sebastien-lorber-articles. Update with links or a proper bio as needed.]]></summary>
        <content type="html"><![CDATA[<p>This is a placeholder author page for <code>all-sebastien-lorber-articles</code>. Update with links or a proper bio as needed.</p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Author]]></title>
        <id>https://valdepeace.com/blog/authors/yangshun</id>
        <link href="https://valdepeace.com/blog/authors/yangshun"/>
        <updated>2025-11-30T12:59:03.000Z</updated>
        <summary type="html"><![CDATA[This is a placeholder author page for yangshun. You can update this file with a fuller bio, avatar, and links.]]></summary>
        <content type="html"><![CDATA[<p>This is a placeholder author page for <code>yangshun</code>. You can update this file with a fuller bio, avatar, and links.</p>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mastra vs Agent Framework + Azure AI Foundry]]></title>
        <id>https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework</id>
        <link href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework"/>
        <updated>2025-11-29T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Two ways to build production AI agents]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="two-ways-to-build-production-ai-agents">Two ways to build production AI agents<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#two-ways-to-build-production-ai-agents" class="hash-link" aria-label="Direct link to Two ways to build production AI agents" title="Direct link to Two ways to build production AI agents" translate="no">​</a></h2>
<p>In recent months many frameworks for building AI agents have emerged. Two approaches I find particularly interesting are:</p>
<ul>
<li class=""><strong>Mastra</strong>, an all-TypeScript agent framework that feels natural if your stack is Node-based.</li>
<li class=""><strong>Microsoft Agent Framework + Azure AI Foundry (Azure AI Agents)</strong>, Microsoft's offering that pairs an orchestration library with a managed agent service on Azure.</li>
</ul>
<p>At first glance they look like different worlds, but they share a similar mental model: agents that keep conversations via threads/sessions, messages, and runs.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-shared-mental-model-agents-threads-and-runs">1. Shared mental model: agents, threads and runs<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#1-shared-mental-model-agents-threads-and-runs" class="hash-link" aria-label="Direct link to 1. Shared mental model: agents, threads and runs" title="Direct link to 1. Shared mental model: agents, threads and runs" translate="no">​</a></h2>
<p>Both Mastra and Microsoft's stack can be understood with the same pattern:</p>
<ul>
<li class=""><strong>Agent</strong>: A virtual “person” with instructions, a model, tools and memory.</li>
<li class=""><strong>Thread / Session</strong>: A conversation thread that preserves context.</li>
<li class=""><strong>Messages</strong>: Exchanges between <code>user</code> and <code>assistant</code>.</li>
<li class=""><strong>Run</strong>: A specific execution of an agent against a conversation.</li>
</ul>
<p>The difference is less about concepts and more about where that state machine lives:</p>
<ul>
<li class="">In <strong>Mastra</strong>, the state machine runs in your backend (Node/TS).</li>
<li class="">In <strong>Azure AI Agents</strong>, the state machine lives in a <strong>managed Azure service</strong>.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-what-is-mastra">2. What is Mastra?<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#2-what-is-mastra" class="hash-link" aria-label="Direct link to 2. What is Mastra?" title="Direct link to 2. What is Mastra?" translate="no">​</a></h2>
<p>In short:</p>
<ul>
<li class="">It's an <strong>agent framework in TypeScript</strong>: agents, tools, workflows (flows/graphs), RAG, tracing and evals (Mastra Cloud).</li>
<li class="">The <strong>runtime</strong> runs in your Node app (Express, Next.js, Lambdas, Functions, etc.).</li>
<li class="">It integrates well with the JS/TS ecosystem: static typing, nice DX, a CLI and a dev server.</li>
</ul>
<p>Think of Mastra as an <strong>all-in-one TypeScript-first agent platform</strong>: runtime + agents + tools + workflows + tracing, all expressed in code.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-what-is-agent-framework--azure-ai-foundry">3. What is Agent Framework + Azure AI Foundry?<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#3-what-is-agent-framework--azure-ai-foundry" class="hash-link" aria-label="Direct link to 3. What is Agent Framework + Azure AI Foundry?" title="Direct link to 3. What is Agent Framework + Azure AI Foundry?" translate="no">​</a></h2>
<p>In this stack the pieces are split into two complementary parts:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="microsoft-agent-framework">Microsoft Agent Framework<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#microsoft-agent-framework" class="hash-link" aria-label="Direct link to Microsoft Agent Framework" title="Direct link to Microsoft Agent Framework" translate="no">​</a></h3>
<ul>
<li class="">A library to <strong>orchestrate agents and workflows</strong> in .NET or Python.</li>
<li class="">It lets you define graphs, steps, states, multi-agent scenarios, etc.</li>
<li class="">You provide the runtime: App Service, Functions, Container Apps, AKS, and so on.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="azure-ai-foundry--azure-ai-agents">Azure AI Foundry / Azure AI Agents<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#azure-ai-foundry--azure-ai-agents" class="hash-link" aria-label="Direct link to Azure AI Foundry / Azure AI Agents" title="Direct link to Azure AI Foundry / Azure AI Agents" translate="no">​</a></h3>
<ul>
<li class="">A managed service that hosts agents (model + instructions + tools + memory), threads (conversations) and runs (executions).</li>
<li class="">Consumed via SDKs (<code>@azure/ai-agents</code>, <code>azure-ai-agents</code>) or REST.</li>
<li class="">Deeply integrated with the Foundry ecosystem: model deployments, AI Search, Fabric, Storage, etc.</li>
</ul>
<p>Together they cover similar functionality to Mastra, but as <strong>two complementary pieces</strong> rather than a single all-in-one package.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-high-level-comparison">4. High-level comparison<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#4-high-level-comparison" class="hash-link" aria-label="Direct link to 4. High-level comparison" title="Direct link to 4. High-level comparison" translate="no">​</a></h2>
<table><thead><tr><th>Aspect</th><th>Mastra</th><th>Agent Framework + Azure Foundry</th></tr></thead><tbody><tr><td>Product type</td><td>TypeScript framework + observability (Mastra Cloud)</td><td>Orchestration library (.NET/Python) + managed service</td></tr><tr><td>Primary language</td><td>TypeScript / Node</td><td>.NET / Python (SDKs available)</td></tr><tr><td>Where runtime lives</td><td>In your backend (Node, Lambdas, Functions, etc.)</td><td>In your code + managed Azure agent service</td></tr><tr><td>Conversation unit</td><td>Session / conversationId</td><td>Thread</td></tr><tr><td>Executions</td><td>Runs / traces in your app + Mastra Cloud</td><td>Runs managed by the agent service</td></tr><tr><td>Primary models</td><td>Any provider supported by Mastra</td><td>Models from Azure catalog</td></tr><tr><td>Tools</td><td>JS/TS functions, HTTP, DB, MCP…</td><td>Native tools + OpenAPI/HTTP + function tools</td></tr><tr><td>Lock-in</td><td>Low (mostly depends on chosen LLM)</td><td>Medium/high (tied to Azure Foundry)</td></tr><tr><td>Azure integration</td><td>Via SDKs / standard APIs</td><td>Native (AI Search, Fabric, Storage, Monitor)</td></tr><tr><td>JS/TS learning curve</td><td>Very low</td><td>Medium (if also orchestrating with .NET/Python)</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-dx-what-it-is-and-why-it-matters">5. DX: what it is and why it matters<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#5-dx-what-it-is-and-why-it-matters" class="hash-link" aria-label="Direct link to 5. DX: what it is and why it matters" title="Direct link to 5. DX: what it is and why it matters" translate="no">​</a></h2>
<p>DX = Developer Experience. This includes how easy it is to get started, API clarity, type/autocomplete support, CLI and documentation.</p>
<ul>
<li class="">For Node/TypeScript teams, Mastra's DX tends to feel natural.</li>
<li class="">Microsoft's stack offers strong DX for .NET/Python and adds value if you're already deep in Azure, but it also introduces more mental models: Foundry projects, managed agents, Agent Framework, etc.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-pros-and-cons">6. Pros and cons<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#6-pros-and-cons" class="hash-link" aria-label="Direct link to 6. Pros and cons" title="Direct link to 6. Pros and cons" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="mastra">Mastra<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#mastra" class="hash-link" aria-label="Direct link to Mastra" title="Direct link to Mastra" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pros--mastra">Pros — Mastra<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#pros--mastra" class="hash-link" aria-label="Direct link to Pros — Mastra" title="Direct link to Pros — Mastra" translate="no">​</a></h4>
<ul>
<li class="">TypeScript-first: fits perfectly in modern Node stacks.</li>
<li class="">Runtime under your control (<code>execute</code>, workflows in TS).</li>
<li class="">Multi-provider model support.</li>
<li class="">Natural integration with HTTP, DBs, MCP, etc.</li>
<li class="">Good DX: CLI, dev server, tracing and evals in Mastra Cloud.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cons--mastra">Cons — Mastra<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#cons--mastra" class="hash-link" aria-label="Direct link to Cons — Mastra" title="Direct link to Cons — Mastra" translate="no">​</a></h4>
<ul>
<li class="">You must operate the infrastructure (Kubernetes, Functions, etc.).</li>
<li class="">You handle enterprise governance/compliance yourself.</li>
<li class="">No built-in, native Azure integrations by default.</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="agent-framework--azure-foundry">Agent Framework + Azure Foundry<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#agent-framework--azure-foundry" class="hash-link" aria-label="Direct link to Agent Framework + Azure Foundry" title="Direct link to Agent Framework + Azure Foundry" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="pros--agent-framework--foundry">Pros — Agent Framework + Foundry<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#pros--agent-framework--foundry" class="hash-link" aria-label="Direct link to Pros — Agent Framework + Foundry" title="Direct link to Pros — Agent Framework + Foundry" translate="no">​</a></h4>
<ul>
<li class="">Managed agent service for threads/runs/state and scaling.</li>
<li class="">Native integration with AI Search, Fabric, OneLake, Storage.</li>
<li class="">Enterprise security and governance (Entra ID, Monitor, Defender).</li>
<li class="">Native tools and OpenAPI/HTTP support.</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="cons--agent-framework--foundry">Cons — Agent Framework + Foundry<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#cons--agent-framework--foundry" class="hash-link" aria-label="Direct link to Cons — Agent Framework + Foundry" title="Direct link to Cons — Agent Framework + Foundry" translate="no">​</a></h4>
<ul>
<li class="">Platform lock-in: Foundry and its resources.</li>
<li class="">Agent Framework is .NET/Python (no TS runtime like Mastra).</li>
<li class="">The runs/threads model may be less flexible than running everything in TS.</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="7-architecture-diagrams">7. Architecture diagrams<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#7-architecture-diagrams" class="hash-link" aria-label="Direct link to 7. Architecture diagrams" title="Direct link to 7. Architecture diagrams" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="71-mastra-centric-approach">7.1. Mastra-centric approach<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#71-mastra-centric-approach" class="hash-link" aria-label="Direct link to 7.1. Mastra-centric approach" title="Direct link to 7.1. Mastra-centric approach" translate="no">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flowchart LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UI[Web/App] --&gt;|HTTP| MAS[Mastra Agents &amp; Workflows]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MAS --&gt; GATEWAY[LLM Gateway]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GATEWAY --&gt; P1[Provider 1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  GATEWAY --&gt; P2[Provider 2]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="72-azure-centric-approach">7.2. Azure-centric approach<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#72-azure-centric-approach" class="hash-link" aria-label="Direct link to 7.2. Azure-centric approach" title="Direct link to 7.2. Azure-centric approach" translate="no">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flowchart LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UI --&gt;|HTTP| WF[Orchestrator (.NET/Python)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  WF --&gt;|SDK/REST| AGENT[Azure Agent Service]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AGENT --&gt; TOOLS[AI Search / Fabric / Storage]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="73-hybrid-approach">7.3. Hybrid approach<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#73-hybrid-approach" class="hash-link" aria-label="Direct link to 7.3. Hybrid approach" title="Direct link to 7.3. Hybrid approach" translate="no">​</a></h3>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">flowchart LR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  UI --&gt; MAS[Mastra]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MAS --&gt; GATEWAY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MAS --&gt; AZ_TOOL[Tool: Azure Agent Service]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  AZ_TOOL --&gt; AZ_AGENT</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="8-quick-example-a-ts-agent-delegating-to-azure">8. Quick example: a TS agent delegating to Azure<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#8-quick-example-a-ts-agent-delegating-to-azure" class="hash-link" aria-label="Direct link to 8. Quick example: a TS agent delegating to Azure" title="Direct link to 8. Quick example: a TS agent delegating to Azure" translate="no">​</a></h2>
<p>Hybrid pattern: keep a primary agent in Mastra and give it a tool that calls a managed Azure agent.</p>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// azureAgentTool.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> AgentsClient </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"@azure/ai-agents"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> DefaultAzureCredential </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"@azure/identity"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> projectEndpoint </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">PROJECT_ENDPOINT</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> azureAgentId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">env</span><span class="token punctuation" style="color:#393A34">.</span><span class="token constant" style="color:#36acaa">AZURE_AGENT_ID</span><span class="token operator" style="color:#393A34">!</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> agentsClient </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">AgentsClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  projectEndpoint</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">DefaultAzureCredential</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">callAzureAgent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">input</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> thread </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> agentsClient</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">threads</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> agentsClient</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">create</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"user"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> input</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> run </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> agentsClient</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">runs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createAndPoll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> agentId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> azureAgentId </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">status </span><span class="token operator" style="color:#393A34">!==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"succeeded"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Azure agent run failed: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">run</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation">status</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> lastAnswer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">""</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> msg </span><span class="token keyword" style="color:#00009f">of</span><span class="token plain"> agentsClient</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">messages</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">list</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">thread</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">id</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">role </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"assistant"</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> first </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> msg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token operator" style="color:#393A34">?.</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> lastAnswer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">first </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> </span><span class="token builtin">any</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> lastAnswer </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"The Azure agent did not return a text response."</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// hybridAgent.ts (sketch)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createAgent </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"mastra"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> callAzureAgent </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"./azureAgentTool"</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> hybridAgent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createAgent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"hybrid-agent"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  instructions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"You are an assistant that decides when to delegate queries to Azure."</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  model</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> provider</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"openai"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"gpt-4o-mini"</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tools</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    askAzure</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      description</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Use this tool to query the Azure agent"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token function-variable function" style="color:#d73a49">execute</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> query </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> query</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> answer</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">callAzureAgent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="9-key-idea-orchestration-matters-most">9. Key idea: orchestration matters most<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#9-key-idea-orchestration-matters-most" class="hash-link" aria-label="Direct link to 9. Key idea: orchestration matters most" title="Direct link to 9. Key idea: orchestration matters most" translate="no">​</a></h2>
<p>Beyond choosing Mastra or Agent Framework + Foundry, the important part is <strong>how you orchestrate your agents around business logic</strong> and <strong>how you manage conversational state</strong>.</p>
<p>Mastra is an all-in-one TypeScript solution; in the Microsoft ecosystem you get Agent Framework (the orchestrator) + Foundry (the managed runtime). Often a hybrid combination delivers the best of both.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="10-conclusion">10. Conclusion<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#10-conclusion" class="hash-link" aria-label="Direct link to 10. Conclusion" title="Direct link to 10. Conclusion" translate="no">​</a></h2>
<ul>
<li class="">If your team lives in TypeScript, start with Mastra to iterate quickly.</li>
<li class="">If your organization requires Azure-level governance and deep integration, use Agent Framework + Foundry.</li>
<li class="">Often the most valuable approach is a combination: Mastra for product-layer agility and Foundry for specialist data/governance capabilities.</li>
</ul>
<p>If you'd like, I can create a short LinkedIn-ready version with the comparison table and the hybrid diagram.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="references">References<a href="https://valdepeace.com/blog/mastra-vs-microsoft-agent-framework#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">​</a></h2>
<ul>
<li class="">Mastra documentation — <a href="https://mastra.ai/docs" target="_blank" rel="noopener noreferrer" class="">https://mastra.ai/docs</a></li>
<li class="">Mastra GitHub — <a href="https://github.com/mastra-ai/mastra" target="_blank" rel="noopener noreferrer" class="">https://github.com/mastra-ai/mastra</a></li>
<li class="">Mastra Book (Principles of Building AI Agents) — <a href="https://mastra.ai/book" target="_blank" rel="noopener noreferrer" class="">https://mastra.ai/book</a></li>
<li class="">Mastra Templates — <a href="https://mastra.ai/templates" target="_blank" rel="noopener noreferrer" class="">https://mastra.ai/templates</a></li>
<li class="">Azure AI Foundry (Microsoft Learn) — <a href="https://learn.microsoft.com/en-us/azure/ai-foundry/" target="_blank" rel="noopener noreferrer" class="">https://learn.microsoft.com/en-us/azure/ai-foundry/</a></li>
<li class="">Azure AI Agents SDK (<code>@azure/ai-agents</code>) — <a href="https://www.npmjs.com/package/@azure/ai-agents" target="_blank" rel="noopener noreferrer" class="">https://www.npmjs.com/package/@azure/ai-agents</a></li>
<li class="">Azure Identity (<code>@azure/identity</code>) — <a href="https://www.npmjs.com/package/@azure/identity" target="_blank" rel="noopener noreferrer" class="">https://www.npmjs.com/package/@azure/identity</a></li>
<li class="">Azure AI &amp; general docs — <a href="https://learn.microsoft.com/azure" target="_blank" rel="noopener noreferrer" class="">https://learn.microsoft.com/azure</a></li>
</ul>]]></content>
        <author>
            <name>Andrés Carmona Gil</name>
            <uri>https://github.com/valdepeace</uri>
        </author>
        <category label="Mastra" term="Mastra"/>
        <category label="Microsoft Agent Framework" term="Microsoft Agent Framework"/>
        <category label="Comparison" term="Comparison"/>
        <category label="AI Agents" term="AI Agents"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Not Everything is a PoC, and You Don't Need Netflix for a CRUD]]></title>
        <id>https://valdepeace.com/blog/over-engineering-vs-poc</id>
        <link href="https://valdepeace.com/blog/over-engineering-vs-poc"/>
        <updated>2025-11-16T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[In recent years, I've seen two equally damaging extremes in many development teams: over-engineering and the eternal PoC culture. This post is about why both extremes are bad engineering practices and how to find a reasonable middle ground.]]></summary>
        <content type="html"><![CDATA[<p>In recent years, I've seen two equally damaging extremes in many development teams: <strong>over-engineering</strong> and the <strong>eternal PoC culture</strong>. This post is about why both extremes are bad engineering practices and how to find a reasonable middle ground.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-i-call-over-engineering">What I Call "Over-Engineering"<a href="https://valdepeace.com/blog/over-engineering-vs-poc#what-i-call-over-engineering" class="hash-link" aria-label="Direct link to What I Call &quot;Over-Engineering&quot;" title="Direct link to What I Call &quot;Over-Engineering&quot;" translate="no">​</a></h2>
<p>By over-engineering, I mean solutions that:</p>
<ul>
<li class="">Add <strong>accidental complexity</strong> without providing clear value.</li>
<li class="">Break basic principles like <strong>KISS</strong> ("Keep It Simple, Stupid"), <strong>YAGNI</strong> ("You Aren't Gonna Need It"), and <strong>DRY</strong> ("Don't Repeat Yourself").</li>
</ul>
<p>Some typical smells:</p>
<ul>
<li class="">Microservices for a product that doesn't even have a dedicated PM.</li>
<li class="">Hexagonal architecture + DDD + CQRS + Event Sourcing… for an intranet with 50 users.</li>
<li class="">Internal framework that only the person who created it understands.</li>
</ul>
<p>The problem isn't using advanced patterns; the problem is doing it <strong>without a business case</strong> to support it. Complexity has to be "paid for" every day: onboarding, debugging, observability, deployments, refactors…</p>
<blockquote>
<p>If the cognitive cost of understanding the system is greater than the problem it solves, you're probably over-engineering.</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-i-call-poc-culture-and-why-its-equally-toxic">What I Call "PoC Culture" (and Why It's Equally Toxic)<a href="https://valdepeace.com/blog/over-engineering-vs-poc#what-i-call-poc-culture-and-why-its-equally-toxic" class="hash-link" aria-label="Direct link to What I Call &quot;PoC Culture&quot; (and Why It's Equally Toxic)" title="Direct link to What I Call &quot;PoC Culture&quot; (and Why It's Equally Toxic)" translate="no">​</a></h2>
<p>On the other extreme is the culture of:</p>
<blockquote>
<p>"Do a quick PoC, we'll put it in production to test it, and we'll refactor it later".</p>
</blockquote>
<p>Spoiler: <strong>"later" never comes</strong>.</p>
<p>A PoC (Proof of Concept) is designed to <strong>validate an idea with minimal effort</strong>, not to last for years: it usually doesn't have tests, security best practices, or decent observability. Taking that PoC as-is to production is a technical debt factory.</p>
<p>And here's the trap:</p>
<ul>
<li class="">The PoC <strong>works</strong>, the business gets used to it.</li>
<li class="">More things get connected around it.</li>
<li class="">It becomes "scary" to touch because "it breaks everything".</li>
<li class="">Refactoring becomes increasingly expensive.</li>
</ul>
<p>As Jason Lengstorf summarized: almost every company has code in production that was born as a PoC and was never rewritten.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="technical-debt-tool-not-excuse">Technical Debt: Tool, Not Excuse<a href="https://valdepeace.com/blog/over-engineering-vs-poc#technical-debt-tool-not-excuse" class="hash-link" aria-label="Direct link to Technical Debt: Tool, Not Excuse" title="Direct link to Technical Debt: Tool, Not Excuse" translate="no">​</a></h2>
<p>This is where the concept of <strong>technical debt</strong> comes in: taking a shortcut now knowing that you'll pay an extra maintenance cost in the future.</p>
<p>Martin Fowler proposes a very useful quadrant: <strong>prudent vs reckless</strong> and <strong>deliberate vs inadvertent</strong>.</p>
<ul>
<li class="">
<p><strong>Deliberate + prudent</strong>:
You know you're introducing debt, you accept it consciously, and you have a plan to pay it off. Example: doing something more "hardcoded" to reach a launch, with a task created to refactor later.</p>
</li>
<li class="">
<p><strong>Deliberate + reckless</strong>:
"We don't have time for design, we'll see". No cleanup plan. This is gasoline for future fires.</p>
</li>
<li class="">
<p><strong>Inadvertent + prudent</strong>:
You did the best you knew how, but later you learn a better way. Normal.</p>
</li>
<li class="">
<p><strong>Inadvertent + reckless</strong>:
Sloppy code due to lack of knowledge and no intention to improve.</p>
</li>
</ul>
<p>The moral: <strong>good technical debt exists</strong> (it's a strategic investment); the bad kind is what you introduce unknowingly or knowing you won't pay it off.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-over-engineering-and-poc-culture-feed-each-other">How Over-Engineering and PoC Culture Feed Each Other<a href="https://valdepeace.com/blog/over-engineering-vs-poc#how-over-engineering-and-poc-culture-feed-each-other" class="hash-link" aria-label="Direct link to How Over-Engineering and PoC Culture Feed Each Other" title="Direct link to How Over-Engineering and PoC Culture Feed Each Other" translate="no">​</a></h2>
<p>The funny (or sad) thing is that these two pathologies <strong>reinforce each other</strong>:</p>
<ol>
<li class="">
<p>A team suffers from over-engineering:</p>
<ul>
<li class="">Changing anything in the system is extremely expensive.</li>
<li class="">Everything takes weeks.</li>
<li class="">The business gets frustrated.</li>
</ul>
</li>
<li class="">
<p>The business responds with "PoC mode":</p>
<ul>
<li class="">"Do something quick on the side, even if it's ugly, but make it work now".</li>
<li class="">A parallel PoC is born, without engineering discipline.</li>
</ul>
</li>
<li class="">
<p>That PoC ends up in production.</p>
<ul>
<li class="">Now you have a monster: excessive architecture on one side, experimental spaghetti on the other.</li>
</ul>
</li>
</ol>
<p>And around we go again.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="practical-framework-for-devsarchitects-quick-poc-or-real-engineering">Practical Framework for Devs/Architects: Quick PoC or "Real" Engineering?<a href="https://valdepeace.com/blog/over-engineering-vs-poc#practical-framework-for-devsarchitects-quick-poc-or-real-engineering" class="hash-link" aria-label="Direct link to Practical Framework for Devs/Architects: Quick PoC or &quot;Real&quot; Engineering?" title="Direct link to Practical Framework for Devs/Architects: Quick PoC or &quot;Real&quot; Engineering?" translate="no">​</a></h2>
<p>As an architect or technical lead, your job isn't to apply textbook patterns, but to <strong>make conscious cost/benefit decisions</strong>.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-quick-check-to-avoid-over-engineering">1. Quick Check to Avoid Over-Engineering<a href="https://valdepeace.com/blog/over-engineering-vs-poc#1-quick-check-to-avoid-over-engineering" class="hash-link" aria-label="Direct link to 1. Quick Check to Avoid Over-Engineering" title="Direct link to 1. Quick Check to Avoid Over-Engineering" translate="no">​</a></h3>
<p>Before adding another layer, another microservice, or a new pattern, ask yourself:</p>
<ol>
<li class="">
<p><strong>What specific problem does this solve today?</strong>
If the answer is "in case tomorrow…", it sounds like YAGNI.</p>
</li>
<li class="">
<p><strong>Do I have real signals that the future is coming?</strong>
Metrics, roadmap, customers, not just "architectural intuition".</p>
</li>
<li class="">
<p><strong>Can I start with something simpler and extract it later?</strong>
For example:</p>
<ul>
<li class="">Start with a module in a monolith → extract to microservice when there's clear need.</li>
<li class="">Start with a single database → separate later by bounded contexts when it really hurts.</li>
</ul>
</li>
<li class="">
<p><strong>Is my team prepared for the complexity I'm introducing?</strong>
An architecture is only as good as the people who have to maintain it.</p>
</li>
</ol>
<p>If you can't justify the complexity in terms of <strong>reduced risk or saved cost</strong>, you're probably designing for your ego rather than the product.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-quick-check-to-avoid-the-eternal-poc">2. Quick Check to Avoid the Eternal PoC<a href="https://valdepeace.com/blog/over-engineering-vs-poc#2-quick-check-to-avoid-the-eternal-poc" class="hash-link" aria-label="Direct link to 2. Quick Check to Avoid the Eternal PoC" title="Direct link to 2. Quick Check to Avoid the Eternal PoC" translate="no">​</a></h3>
<p>When someone says "it's just a test", think:</p>
<ol>
<li class="">
<p><strong>Could this code be in production in 6–12 months?</strong>
If the honest answer is "yes, likely", then it's not "just a PoC":</p>
<ul>
<li class="">require minimum quality,</li>
<li class="">at least some basic tests,</li>
<li class="">decent logging and some observability.</li>
</ul>
</li>
<li class="">
<p><strong>What part of the system depends on this?</strong></p>
<ul>
<li class="">Will it move money?</li>
<li class="">Does it affect critical data?</li>
<li class="">The main user experience?</li>
</ul>
</li>
<li class="">
<p><strong>Is the debt I'm introducing recorded?</strong>
"We'll refactor it later" doesn't cut it:</p>
<ul>
<li class="">write concrete tickets,</li>
<li class="">assign priorities,</li>
<li class="">comment the context in the code when taking shortcuts.</li>
</ul>
</li>
<li class="">
<p><strong>Is there an "expiration date" for this PoC?</strong>
For example:</p>
<blockquote>
<p>"This PoC service will live for a maximum of 3 months. If after 3 months it's still providing value, we plan its rewrite/industrialization".</p>
</blockquote>
</li>
</ol>
<p>Without a timebox, the PoC mutates into legacy system.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="recommended-work-pattern-poc--prototype--product">Recommended Work Pattern: PoC → Prototype → Product<a href="https://valdepeace.com/blog/over-engineering-vs-poc#recommended-work-pattern-poc--prototype--product" class="hash-link" aria-label="Direct link to Recommended Work Pattern: PoC → Prototype → Product" title="Direct link to Recommended Work Pattern: PoC → Prototype → Product" translate="no">​</a></h2>
<p>A healthy way to work (especially in cloud/SaaS environments) is to think in three levels:</p>
<ol>
<li class="">
<p><strong>PoC</strong></p>
<ul>
<li class="">Objective: validate an idea (technical or business).</li>
<li class="">Minimum criteria:<!-- -->
<ul>
<li class="">It can break; it's for controlled environment.</li>
<li class="">You document consciously: <em>"not intended for production"</em>.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p><strong>"Production-like" Prototype</strong></p>
<ul>
<li class="">Objective: approach what the real version would be.</li>
<li class="">Here you already apply:<!-- -->
<ul>
<li class="">architecture that makes sense,</li>
<li class="">clear boundaries,</li>
<li class="">basic security,</li>
<li class="">minimum observability.</li>
</ul>
</li>
</ul>
</li>
<li class="">
<p><strong>Stable Product/Service</strong></p>
<ul>
<li class="">Objective: operate in production for years.</li>
<li class="">Requires:<!-- -->
<ul>
<li class="">clear SLOs/SLAs,</li>
<li class="">serious pipelines,</li>
<li class="">reliability metrics,</li>
<li class="">evolution strategy.</li>
</ul>
</li>
</ul>
</li>
</ol>
<p>The PoC → product jump <strong>without an intermediate phase</strong> is what so often ends in technical debt nightmare.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-you-can-do-as-a-devarchitect-even-if-youre-not-cto">What You Can Do as a Dev/Architect (Even If You're Not "CTO")<a href="https://valdepeace.com/blog/over-engineering-vs-poc#what-you-can-do-as-a-devarchitect-even-if-youre-not-cto" class="hash-link" aria-label="Direct link to What You Can Do as a Dev/Architect (Even If You're Not &quot;CTO&quot;)" title="Direct link to What You Can Do as a Dev/Architect (Even If You're Not &quot;CTO&quot;)" translate="no">​</a></h2>
<p>Some very concrete actions you can incorporate into your daily practice:</p>
<ul>
<li class="">
<p><strong>Put language to shortcuts</strong>
When someone asks "do it quickly":</p>
<ul>
<li class="">"Okay, but that implies technical debt of type X. We accept it if we then dedicate Y hours to cleaning it up".</li>
</ul>
</li>
<li class="">
<p><strong>Visualize complexity</strong></p>
<ul>
<li class="">Simple diagrams (C4 level 1–2) to show when the architecture is becoming absurd for the product size.</li>
</ul>
</li>
<li class="">
<p><strong>Measure the pain</strong></p>
<ul>
<li class="">"Every change in this module takes us two weeks and breaks three things".</li>
<li class="">That opens doors to propose refactors, simplification, or re-architecture.</li>
</ul>
</li>
<li class="">
<p><strong>Negotiate conditions for a PoC</strong></p>
<ul>
<li class="">Clear timebox.</li>
<li class="">What can be sacrificed (performance, internal cleanliness) and what CANNOT (basic security, privacy, data integrity).</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="conclusion-engineering--dogma-its-managing-trade-offs">Conclusion: Engineering ≠ Dogma, It's Managing Trade-offs<a href="https://valdepeace.com/blog/over-engineering-vs-poc#conclusion-engineering--dogma-its-managing-trade-offs" class="hash-link" aria-label="Direct link to Conclusion: Engineering ≠ Dogma, It's Managing Trade-offs" title="Direct link to Conclusion: Engineering ≠ Dogma, It's Managing Trade-offs" translate="no">​</a></h2>
<p>Not every project deserves a textbook architecture, nor is anything acceptable with "it's just a test". Both extremes are, fundamentally, <strong>lack of engineering</strong>:</p>
<ul>
<li class="">Over-engineering ignores the real cost of complexity.</li>
<li class="">Eternal PoC culture ignores the real cost of technical debt.</li>
</ul>
<p>Real software engineering is about this:</p>
<blockquote>
<p><strong>Making explicit decisions about where you accept complexity and where you accept debt, with a plan to manage both over time.</strong></p>
</blockquote>
<p>If you take one thing from this post, let it be this idea:</p>
<ul>
<li class="">When you're going to design: ask yourself <em>"can I make it simpler without losing the essential?"</em>.</li>
<li class="">When you're going to "do something quick": ask yourself <em>"am I willing to pay the price of leaving it like this?"</em>.</li>
</ul>
<p>You won't find the balance in any book: you'll build it yourself, project by project, decision by decision.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="references">References<a href="https://valdepeace.com/blog/over-engineering-vs-poc#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://rrmartins.medium.com/kiss-vs-dry-vs-yagni-understanding-key-software-development-principles-e307b7419636" target="_blank" rel="noopener noreferrer" class="">KISS vs. DRY vs. YAGNI: Understanding Key Software Development Principles</a></li>
<li class=""><a href="https://martinfowler.com/bliki/TechnicalDebtQuadrant.html" target="_blank" rel="noopener noreferrer" class="">Technical Debt Quadrant - Martin Fowler</a></li>
<li class=""><a href="https://blog.scaledcode.com/blog/poc-to-production/" target="_blank" rel="noopener noreferrer" class="">When Proof of Concepts Become Production Code</a></li>
<li class=""><a href="https://martinfowler.com/bliki/Yagni.html" target="_blank" rel="noopener noreferrer" class="">YAGNI - Martin Fowler</a></li>
</ul>]]></content>
        <author>
            <name>Andrés Carmona Gil</name>
            <uri>https://github.com/valdepeace</uri>
        </author>
        <category label="Architecture" term="Architecture"/>
        <category label="Best Practices" term="Best Practices"/>
        <category label="Software Engineering" term="Software Engineering"/>
        <category label="Technical Debt" term="Technical Debt"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Welcome to my blog!]]></title>
        <id>https://valdepeace.com/blog/welcome</id>
        <link href="https://valdepeace.com/blog/welcome"/>
        <updated>2025-11-15T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Hello and welcome to my personal blog! 👋]]></summary>
        <content type="html"><![CDATA[<p>Hello and welcome to my personal blog! 👋</p>
<p>This is the first post of many to come. Here I'll share my experiences, learnings, and reflections about technology, software development, and everything I'm passionate about.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-will-you-find-here">What will you find here?<a href="https://valdepeace.com/blog/welcome#what-will-you-find-here" class="hash-link" aria-label="Direct link to What will you find here?" title="Direct link to What will you find here?" translate="no">​</a></h2>
<p>In this space I'll publish content about:</p>
<ul>
<li class=""><strong>💻 Web Development:</strong> Tutorials, tips, and best practices</li>
<li class=""><strong>🚀 Modern Technologies:</strong> React, TypeScript, Node.js, and more</li>
<li class=""><strong>📚 Learnings:</strong> Experiences and lessons learned</li>
<li class=""><strong>🔧 Tools:</strong> Reviews and guides for useful tools</li>
<li class=""><strong>💡 Ideas:</strong> Reflections about the tech industry</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="my-vision">My vision<a href="https://valdepeace.com/blog/welcome#my-vision" class="hash-link" aria-label="Direct link to My vision" title="Direct link to My vision" translate="no">​</a></h2>
<p>I firmly believe in sharing knowledge. The developer community has been incredibly generous with me, and this is my way of giving back a little of what I've received.</p>
<p>Don't expect perfect posts, but honest, practical, and useful content based on real experiences.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-coming">What's coming?<a href="https://valdepeace.com/blog/welcome#whats-coming" class="hash-link" aria-label="Direct link to What's coming?" title="Direct link to What's coming?" translate="no">​</a></h2>
<p>In the upcoming posts I'll talk about:</p>
<ul>
<li class="">How I set up this site with Docusaurus</li>
<li class="">Best practices in React and TypeScript</li>
<li class="">Tools I use daily</li>
<li class="">Projects I'm working on</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="stay-connected">Stay connected<a href="https://valdepeace.com/blog/welcome#stay-connected" class="hash-link" aria-label="Direct link to Stay connected" title="Direct link to Stay connected" translate="no">​</a></h2>
<p>If you're interested in the content, you can:</p>
<ul>
<li class="">Subscribe to the <a href="https://valdepeace.com/assets/files/rss-c03ada278d8a6dd838d5ca7df6cc26ed.xml" target="_blank" class="">RSS feed</a></li>
<li class="">Follow me on <a href="https://twitter.com/valdepeace" target="_blank" rel="noopener noreferrer" class="">Twitter</a></li>
<li class="">Connect on <a href="https://www.linkedin.com/in/valdepeace" target="_blank" rel="noopener noreferrer" class="">LinkedIn</a></li>
<li class="">See my work on <a href="https://github.com/valdepeace" target="_blank" rel="noopener noreferrer" class="">GitHub</a></li>
</ul>
<p>Thanks for being here! 🚀</p>
<hr>
<p><em>Do you have any topic you'd like me to cover? Leave me a comment or contact me!</em></p>]]></content>
        <author>
            <name>Andrés Carmona Gil</name>
            <uri>https://github.com/valdepeace</uri>
        </author>
        <category label="Personal" term="Personal"/>
    </entry>
</feed>